[{"content":"\rMini-Redis å­¦ä¹ åˆ†æï¼ˆä¸€ï¼‰\r0x01 æœåŠ¡ç«¯å¯åŠ¨è¿‡ç¨‹\rServer\ræœåŠ¡ç«¯å¯åŠ¨æ—¶ï¼Œé¦–å…ˆåˆå§‹åŒ– Listener å®ä¾‹ï¼Œå‡†å¤‡æ¥æ”¶å®¢æˆ·ç«¯è¿æ¥ã€‚\nListener\rListener è´Ÿè´£ç®¡ç†æœåŠ¡ç«¯çš„æ ¸å¿ƒç»„ä»¶ï¼š\nå˜é‡ æè¿° db_holder æŒæœ‰æ•°æ®åº“å®ä¾‹ listener TCP ç›‘å¬å™¨ï¼Œè´Ÿè´£æ¥æ”¶å®¢æˆ·ç«¯è¿æ¥ limit_connections è¿æ¥æ•°é™åˆ¶å™¨ï¼Œç±»å‹ä¸º Arc\u0026lt;Semaphore\u0026gt; notify_shutdown ç”¨äºå¹¿æ’­å…³é—­ä¿¡å·çš„é€šçŸ¥å™¨ shutdown_complete_tx ç”¨äºç¡®è®¤å…³é—­å®Œæˆçš„å‘é€ç«¯ run æ–¹æ³•\rrun æ–¹æ³•è¿›å…¥ä¸»å¾ªç¯ï¼ŒæŒç»­ç›‘å¬æ–°è¿æ¥ã€‚æ¯å½“æœ‰å®¢æˆ·ç«¯æ¥å…¥æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª Handler å®ä¾‹æ¥å¤„ç†è¯¥è¿æ¥ã€‚\nHandler\rHandler è´Ÿè´£å¤„ç†å•ä¸ªå®¢æˆ·ç«¯è¿æ¥çš„å…¨ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬è¯»å–è¯·æ±‚ã€è§£æå‘½ä»¤å’Œæ‰§è¡Œæ“ä½œã€‚\n0x02 å‘½ä»¤å¤„ç†æµç¨‹\rå‘½ä»¤å¤„ç†åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªé˜¶æ®µï¼š\n1. è¯»å–å¸§æ•°æ®\ré€šè¿‡ Connection::read_frame æ–¹æ³•ä» socket è¯»å–åŸå§‹æ•°æ®ï¼Œå¹¶è§£æä¸º Frame ç»“æ„ã€‚\nMini-Redis åè®®å¸§ç±»å‹\nç±»å‹ æ ¼å¼ ç¤ºä¾‹ ç®€å•å­—ç¬¦ä¸² +å†…å®¹\\r\\n +OK\\r\\n é”™è¯¯ -å†…å®¹\\r\\n -ERR unknown\\r\\n æ•´æ•° :æ•°å­—\\r\\n :1000\\r\\n æ‰¹é‡å­—ç¬¦ä¸² $é•¿åº¦\\r\\nå†…å®¹\\r\\n $5\\r\\nhello\\r\\n ç©ºå€¼ $-1\\r\\n $-1\\r\\n æ•°ç»„ *æ•°é‡\\r\\nå…ƒç´ ... *2\\r\\n$3\\r\\nfoo\\r\\n$3\\r\\nbar\\r\\n 2. è§£æå‘½ä»¤\rå½“å®Œæ•´çš„ Frame è§£æå®Œæˆåï¼Œè°ƒç”¨ Command::from_frame å°†å…¶è½¬æ¢ä¸ºå…·ä½“çš„ Command æšä¸¾ç±»å‹ã€‚\n3. æ‰§è¡Œå‘½ä»¤\ræœ€åè°ƒç”¨ Command::apply æ–¹æ³•ï¼Œå°†å‘½ä»¤æ‰§è¡Œç»“æœåº”ç”¨åˆ°æ•°æ®åº“ä¸­ï¼Œå¹¶å°†å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚\n","permalink":"https://blog.fantasky.dpdns.org/posts/mini-redis-learn-1/","title":"Mini-Redis å­¦ä¹ åˆ†æï¼ˆä¸€ï¼‰"},{"content":"æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Hugoåˆ›å»ºé™æ€ç½‘ç«™å¹¶éƒ¨ç½²åˆ°Vercelå¹³å°ï¼ŒåŒ…æ‹¬å®Œæ•´çš„å®‰è£…ã€é…ç½®å’Œéƒ¨ç½²æµç¨‹ã€‚\nğŸ“¦ Hugoå®‰è£…ä¸ç¯å¢ƒé…ç½®\rWindowsç¯å¢ƒå®‰è£…\rä½¿ç”¨WindowsåŒ…ç®¡ç†å™¨å®‰è£…Hugo Extendedç‰ˆæœ¬ï¼š\nwinget install Hugo.Hugo.Extended éªŒè¯å®‰è£…\rå®‰è£…å®Œæˆåï¼ŒéªŒè¯Hugoç‰ˆæœ¬ï¼š\nhugo version ğŸš€ åˆ›å»ºå’Œé…ç½®Hugoç«™ç‚¹\r1. åˆ›å»ºæ–°ç«™ç‚¹\rhugo new site my-hugo-site cd my-hugo-site 2. åˆ›å»ºç¬¬ä¸€ç¯‡æ–‡ç« \rhugo new posts/my-first-post.md 3. ç¼–è¾‘æ–‡ç« å†…å®¹\ræ‰“å¼€ç”Ÿæˆçš„æ–‡ç« æ–‡ä»¶ï¼Œä¿®æ”¹å¤´éƒ¨ä¿¡æ¯ï¼š\n+++ title = \u0026#39;æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« \u0026#39; date = 2025-01-20T10:00:00+08:00 draft = false tags = [\u0026#39;Hugo\u0026#39;, \u0026#39;å¼€å§‹\u0026#39;] +++ è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡Hugoæ–‡ç« å†…å®¹... ğŸ” æœ¬åœ°é¢„è§ˆå’Œæµ‹è¯•\rå¯åŠ¨å¼€å‘æœåŠ¡å™¨\rhugo server -D #-Dä»£è¡¨æ˜¾ç¤ºè‰ç¨¿æ–‡ç« ä¹Ÿå°±æ˜¯draft = trueçš„æ–‡ç«  è®¿é—® http://localhost:1313 é¢„è§ˆç½‘ç«™æ•ˆæœã€‚\nç”Ÿæˆé™æ€æ–‡ä»¶\rhugo ç”Ÿæˆçš„é™æ€æ–‡ä»¶ä½äº public/ ç›®å½•ä¸‹ã€‚\nğŸ“‹ Gitä»“åº“é…ç½®\r1. åˆå§‹åŒ–ä»“åº“å¹¶æäº¤ä»£ç \rgit add . git commit -m \u0026#34;Initial Hugo site\u0026#34; 2. æ¨é€åˆ°GitHub\rgit remote add origin https://github.com/yourusername/your-repo.git git branch -M main git push -u origin main ğŸŒ Verceléƒ¨ç½²é…ç½®\r1. åˆ›å»ºVercelè´¦å·\rè®¿é—® Vercelå®˜ç½‘ ä½¿ç”¨GitHubè´¦å·ç™»å½•ï¼ˆæ¨èï¼‰ 2. å¯¼å…¥GitHubé¡¹ç›®\rç‚¹å‡» \u0026ldquo;New Project\u0026rdquo; æŒ‰é’® é€‰æ‹© \u0026ldquo;Import Git Repository\u0026rdquo; é€‰æ‹©ä½ çš„Hugoé¡¹ç›®ä»“åº“ ç‚¹å‡» \u0026ldquo;Import\u0026rdquo; 3. ç¯å¢ƒå˜é‡è®¾ç½®\råœ¨ Settings \u0026gt; Environment Variables ä¸­æ·»åŠ ï¼š\nå˜é‡å å€¼ è¯´æ˜ HUGO_VERSION 0.150.0 æŒ‡å®šHugoç‰ˆæœ¬ 4. é…ç½®baseURL\rç¼–è¾‘é¡¹ç›®æ ¹ç›®å½•çš„ config.toml æ–‡ä»¶ï¼š\nbaseURL = \u0026#39;https://your-project.vercel.app\u0026#39; languageCode = \u0026#39;zh-cn\u0026#39; title = \u0026#39;æˆ‘çš„Hugoåšå®¢\u0026#39; ğŸ“š èµ„æ–™\rHugoå®˜æ–¹æ–‡æ¡£ Verceléƒ¨ç½²æ–‡æ¡£ Hugoä¸»é¢˜åº“ ","permalink":"https://blog.fantasky.dpdns.org/posts/hugo-to-vercel/","title":"Hugoéƒ¨ç½²åˆ°Vercelå®Œæ•´æŒ‡å—"}]